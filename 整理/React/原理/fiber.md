## React Fiber


### 为什么react需要fiber&时间分片?

- Fiber 

Fiver 是 react 中的核心数据结构，是一个树形的链表，每个节点可以包含指向父节点，子节点，兄弟节点的链接，每个节点代表的一个工作单元，即组件。 

Fiber 目的 ： 当一个组件更新时，Fiber 从根节点开始遍历，为每个节点创建新的状态， 这个过程叫`reconciliation`。Fiber 的目的是，在这个过程，让组件的渲染和更新过程可以被打断和重新开始，从而提高应用的响应速度和性能。

- 时间分片

为什么需要时间分片？ 为了避免卡顿，在复杂页面中更新 DOM 会占据主线程，由于单线程的缘故，进而无法接受用户其他操作的响应，进而出现卡顿。

时间分片目的：就是中断遍历渲染任务，交还主线程，响应其他操作，稍后再来继续遍历渲染任务。在中断的过程中，可能还有新的渲染任务进来，达到一个“增量更新”的效果。

总结：性能优化，减少卡顿

- 为什么 Vue 不需要这些？

1、没有fiber , 没有time-slicing，结构简单 2、 vue 模块做了很多预编译（ AOT ）的优化，实际 DOM 中仅有少量部份是动态的。3、通过依赖跟踪对组件树的优化。